var isConnected=!1,minPlayAmount=new BigNumber(0),userWalletAddress="0x00",userWalletAddressShort="0x00",userWalletBalance=0,keysPrice=new BigNumber(.001),games=[],TOAST_HIDE_DELAY=5e3,TOAST_HIDE_TRANSITION="slide";function viewContract(){var e=window.open("https://etherscan.io/address/"+contractAddress,"_blank");e&&e.focus()}function startApp(){isMainGame?checkNetwork(populateGameStats):checkNetwork(function(){isDetail})}window.addEventListener("load",function(){"undefined"!=typeof web3?(window.web3=new Web3(web3.currentProvider),isConnected=!0,startApp()):(console.log("No web3"),isMainGame&&(isConnected=!1,deactivateGame(),$("#notConnectedModel").foundation("open")))});var lastBlock=0;function checkNetwork(e){web3.eth.net.getNetworkType((t,n)=>{var r="";r=t?"Error:"+t:n>1e12?"testrpc":n;var o="main";1==useTestnet&&(o="ropsten"),r==o?(BankOfEthHeistContract=new web3.eth.Contract(heistABI,contractAddress),e&&e(),web3.eth.getBlockNumber(function(e,t){if(e);else{var n=parseInt(t);let e=document.getElementById("previousPlayersTable");lastBlock=n,BankOfEthHeistContract.getPastEvents("KeysIssued",{fromBlock:n-12343,toBlock:"latest"},function(t,n){if(t);else for(let t=0;t<n.length;t++){let r='<tr class="smallText">',o=new BigNumber(n[t].returnValues.keys).div(DIVISOR).toString();r+='<td><a href="https://etherscan.io/address/'+n[t].returnValues.to+'" target="_new">'+n[t].returnValues.to+"</a></td>",r+="<td>"+o+"</td>",r+="</tr>",$("#previousPlayersTable tr:first").after(r);let s=e.getElementsByTagName("tr").length;s>10&&e.deleteRow(s-1)}})}}),setTimeout(function(){updateClocks()},1e3)):(console.log("NOT CONNECTED"+o+":"+r),deactivateGame(),$("#notConnectedModel").foundation("open"))})}function deactivateGame(){console.log("Deactiving Game..."),$("#investButton").prop("disabled",!0),$("#investmentAmount").prop("disabled",!0),$("#withdrawInvestmentButton").prop("disabled",!0),$("#withdrawDividendsButton").prop("disabled",!0),$("#reinvestButton").prop("disabled",!0),$("#referralid_full").css("cursor","not-allowed"),$("#keysPlus0").css("cursor","not-allowed"),$("#keysPlus1").css("cursor","not-allowed"),$("#keysPlus5").css("cursor","not-allowed"),$("#keysPlus10").css("cursor","not-allowed"),$("#keysPlus100").css("cursor","not-allowed"),$("#keysPlus1000").css("cursor","not-allowed"),$("#withdrawButton").prop("disabled",!0)}function keysPlus(e){canPlay&&(document.getElementById("investmentAmount").value=0==e?"1":parseInt(document.getElementById("investmentAmount").value)+parseInt(e),updateKeysCost())}function updateKeysCost(){var e=parseInt(document.getElementById("investmentAmount").value),t=keysPrice.times(e);if(updateInnerHTML("investmentAmountCost","= "+keysPrice.times(e)+" ETH"),t.gte(.1)){var n=0;t.gte(100)?(n=e,console.log("100% bonus key level")):t.gte(10)?(n=e/2,console.log("50% bonus key level")):t.gte(1)?(n=e/3,console.log("33% bonus key level")):(n=e/10,console.log("10% bonus key level")),updateInnerHTML("bonusKeys","+ "+roundNumber(n,2)+" Bonus Keys!")}else updateInnerHTML("bonusKeys","")}function populateGameStats(){getUserWalletAddress(function(){canPlay=!0,updateInnerHTML("referralid",userWalletAddress),updateInnerHTML("yourAddress",userWalletAddress),getGameStats()}),setTimeout(function(){populateGameStats()},GAME_UPDATE_SPEED)}var DIVISOR=new BigNumber(1e18),requiresRestart=!1,hasShownRestartMsg=!1,currentRound={roundID:0,leader:"",priceWei:new BigNumber(1e15),jackpot:new BigNumber(0),airdrop:new BigNumber(0),keys:new BigNumber(0),totalInvested:new BigNumber(0),distributedReturns:new BigNumber(0),hardDeadline:0,softDeadline:0,finalized:!1};function updateClocks(){if(canPlay&&currentRound.softDeadline>0){var e=(new Date).getTime(),t=1e3*currentRound.softDeadline-e;if(t<1)requiresRestart=!0,showRestartMessage();else{hasShownRestartMsg=!1;var n=Math.floor(t/1e3/60/60/24);t-=1e3*n*60*60*24;var r=Math.floor(t/1e3/60/60);t-=1e3*r*60*60;var o=Math.floor(t/1e3/60);t-=1e3*o*60;var s=Math.floor(t/1e3),i="";n>0&&(i=1==n?"1 day & ":n+" days, "),updateInnerHTML("roundCountdown",i+=padNumber(r,2)+":"+padNumber(o,2)+":"+padNumber(s,2))}}setTimeout(function(){updateClocks()},1e3)}function showRestartMessage(){BankOfEthHeistContract.methods.roundInfo(currentRound.roundID).call(function(e,t){if(e);else{currentRound.leader=t.leader,currentRound.jackpot=new BigNumber(t.jackpot),currentRound.airdrop=new BigNumber(t.airdrop),currentRound.keys=new BigNumber(t.keys).div(DIVISOR),currentRound.totalInvested=new BigNumber(t.totalInvested),currentRound.distributedReturns=new BigNumber(t.distributedReturns),currentRound.hardDeadline=t._hardDeadline,currentRound.softDeadline=t._softDeadline,currentRound.finalized=new BigNumber(t.finalized),updateInnerHTML("roundCurrentWinner",currentRound.leader.substring(0,10)+"..."),updateInnerHTML("currentLeader",currentRound.leader),updateInnerHTML("currentLeaderShort",currentRound.leader.substring(0,10)+"..."),updateInnerHTML("totalEthInRound",web3.utils.fromWei(currentRound.jackpot.toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("vaultPrize",web3.utils.fromWei(currentRound.jackpot.toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("roundAirdropTotal",web3.utils.fromWei(currentRound.airdrop.toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("roundAirdropTotal2",web3.utils.fromWei(currentRound.airdrop.toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("roundKeysSold",currentRound.keys.decimalPlaces(2).toString()),updateInnerHTML("distributedEthThisRound",web3.utils.fromWei(currentRound.distributedReturns.toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("roundInvested",web3.utils.fromWei(currentRound.totalInvested.toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("roundHardDeadline",timeConverter(currentRound.hardDeadline));var n=(new Date).getTime();if(1e3*currentRound.softDeadline-n<1&&(updateInnerHTML("roundCountdown","OPEN!"),!hasShownRestartMsg)){var r="The Vault has opened!!<br/><br/>The winner of the prize is: "+currentRound.leader;r+="<br/><br/>They have won the jackpot price of: <strong>"+web3.utils.fromWei(currentRound.jackpot.toString(),"ether").substring(0,8)+" ETH</strong><br/><br/>",r+="<strong>What happens Next?</strong><br/><br/>",r+="The next round will be even bigger as it has already been seeded with a prize pot!  And you now have a chance to be the first investor - ",r+="which means you will receive more of the share of distributed returns!<br/><br/>",showError(r+="Be quick though - buy some keys now for the chance to be the first investor in the next round before someone else does!<br/><br/>","Vault Open!"),hasShownRestartMsg=!0}}})}var log_id_processed=[];function getGameStats(){BankOfEthHeistContract.methods.latestRoundID().call(function(e,t){e?(showError("Unable to access the Game Of Eth smart contract - please refresh the page to try again."),deactivateGame()):(currentRound.roundID=parseInt(t),updateInnerHTML("roundNumber",currentRound.roundID+1),BankOfEthHeistContract.methods.roundInfo(currentRound.roundID).call(function(e,t){e?(showError("Unable to access the Game Of Eth smart contract - please refresh the page to try again."),deactivateGame()):(currentRound.leader=t.leader,currentRound.jackpot=new BigNumber(t.jackpot),currentRound.airdrop=new BigNumber(t.airdrop),currentRound.keys=new BigNumber(t.keys).div(DIVISOR),currentRound.totalInvested=new BigNumber(t.totalInvested),currentRound.distributedReturns=new BigNumber(t.distributedReturns),currentRound.hardDeadline=t._hardDeadline,currentRound.softDeadline=t._softDeadline,currentRound.finalized=new BigNumber(t.finalized),updateInnerHTML("roundCurrentWinner",currentRound.leader.substring(0,10)+"..."),updateInnerHTML("currentLeader",currentRound.leader),updateInnerHTML("currentLeaderShort",currentRound.leader.substring(0,10)+"..."),updateInnerHTML("totalEthInRound",web3.utils.fromWei(currentRound.jackpot.toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("vaultPrize",web3.utils.fromWei(currentRound.jackpot.toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("roundAirdropTotal",web3.utils.fromWei(currentRound.airdrop.toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("roundAirdropTotal2",web3.utils.fromWei(currentRound.airdrop.toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("roundKeysSold",currentRound.keys.decimalPlaces(2).toString()),updateInnerHTML("distributedEthThisRound",web3.utils.fromWei(currentRound.distributedReturns.toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("roundInvested",web3.utils.fromWei(currentRound.totalInvested.toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("roundHardDeadline",timeConverter(currentRound.hardDeadline)))}),BankOfEthHeistContract.methods.investorInfo(userWalletAddress,currentRound.roundID).call(function(e,t){if(e);else{updateInnerHTML("yourKeysNumber",new BigNumber(t.keys).div(DIVISOR).decimalPlaces(2).toString());var n=new BigNumber(t.totalReturns),r=new BigNumber(t.referralReturns);updateInnerHTML("yourReturn",web3.utils.fromWei(n.minus(r).toString(),"ether").substring(0,8)+" ETH"),updateInnerHTML("yourReferralReturn",web3.utils.fromWei(t.referralReturns,"ether").substring(0,8)+" ETH"),updateInnerHTML("yourReturnTotal",web3.utils.fromWei(t.totalReturns,"ether").substring(0,8)+" ETH")}}))}),lastBlock>0&&BankOfEthHeistContract.getPastEvents("allEvents",{fromBlock:lastBlock-1,toBlock:"latest"},function(e,t){if(e);else{let e=document.getElementById("previousPlayersTable");for(let n=0;n<t.length;n++)if(parseInt(t[n].blockNumber)>lastBlock&&(lastBlock=parseInt(t[n].blockNumber)),-1==$.inArray(t[n].id,log_id_processed)){if(log_id_processed.push(t[n].id),"KeysIssued"==t[n].event){let r='<tr class="smallText">',o=new BigNumber(t[n].returnValues.keys).div(DIVISOR).toString();r+='<td><a href="https://etherscan.io/address/'+t[n].returnValues.to+'" target="_new">'+t[n].returnValues.to+"</a></td>",r+="<td>"+o+"</td>",r+="</tr>",setTimeout(function(){$.toast({heading:"New Investor",text:t[n].returnValues.to.substring(0,10)+"... has just purchased "+o+" keys",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION})},500*n),$("#previousPlayersTable tr:first").after(r);let s=e.getElementsByTagName("tr").length;s>10&&e.deleteRow(s-1)}"EthDistributed"==t[n].event&&setTimeout(function(){$.toast({heading:"ETH Distributed!",text:web3.utils.fromWei(t[n].returnValues.amount,"ether").substring(0,8)+" ETH has just been distributed to all players in this round!",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION})},500*n),"ReturnsWithdrawn"==t[n].event&&setTimeout(function(){$.toast({heading:"ETH Received!",text:web3.utils.fromWei(t[n].returnValues.amount,"ether").substring(0,8)+" ETH has just been received by "+t[n].returnValues.by.substring(0,10)+"...",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION})},500*n),"JackpotWon"==t[n].event&&setTimeout(function(){$.toast({heading:"Jackpot Won!",text:web3.utils.fromWei(t[n].returnValues.amount,"ether").substring(0,8)+" ETH has just been won by "+t[n].returnValues.by.substring(0,10)+"...",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION})},500*n),"AirdropWon"==t[n].event&&setTimeout(function(){$.toast({heading:"Safety Deposit Prize Won!",text:web3.utils.fromWei(t[n].returnValues.amount,"ether").substring(0,8)+" ETH has just been won by "+t[n].returnValues.by.substring(0,10)+"...",allowToastClose:!0,position:"bottom-right",icon:"info",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION})},500*n),"RoundStarted"==t[n].event&&(setTimeout(function(){$.toast({heading:"New Round Started",text:"A new round has just started - get in quick for more earnings!",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION})},500*n),requiresRestart=!1)}}})}function getUserWalletAddress(e){web3.eth.getCoinbase((t,n)=>{var r="";t?(r="Error",showError("Unable to open your Ethereum Wallet - are you logged in to your Wallet?<br/><br/>If this issue continues please contact support."),deactivateGame(),canPlay=!1):(userWalletAddress=r=n,r?(userWalletAddressShort=r.substring(0,10)+"...",e&&e()):(showError("Unable to open your Ethereum Wallet - are you logged in to your Wallet?<br/><br/>If this issue continues please contact support."),canPlay=!1,deactivateGame()))})}function getUserWalletBalance(e){web3.eth.getCoinbase((t,n)=>{var r="";t?(r="Error1",showWalletError()):(r=n,web3.eth.getBalance(r,(t,n)=>{t?(r="Error2",showError("Unable to open your Ethereum Wallet - are you logged in to your Wallet?<br/><br/>If this issue continues please contact support.")):(userWalletBalance=n,e&&e())}))})}function cancelGame(e){if(!canPlay)return void showNotConnectedMsg();let t="This will fully cancel your participation within this game and withdraw <b>"+document.getElementById("yourEth_inGame_"+e).innerHTML;t+="</b><br/><br/>",t+="Are you sure you wish to continue (You can rejoin the game later if you wish)?",alertify.confirm("Win1Million",t,function(){cancelGameComplete(e)},function(){console.log("cancel")})}function reinvestDividends(){canPlay?BankOfEthHeistContract.methods.minInvestment().call(function(e,t){if(e)showError("Unable to access game contract - please try again.  If this issue persists try reloading this page.","Bank Heist");else{minPlayAmount=new BigNumber(t);let e=document.getElementById("investmentAmount").value,n=new BigNumber(keysPrice.times(e)),r=new BigNumber(web3.utils.fromWei(minPlayAmount.toString(),"ether"));n.isLessThan(r)?showError("The minium investment is 1 KEY<br/><br/>Please update your investment and try again.","Invalid Number of Keys"):requiresRestart?showError("You are not able to use your vault funds to start off a new round!<br/><br/>The first investment in a new round must be with ETH.<br/><br/>","Bank Heist"):(web3.utils.isAddress(_referer)||(console.log("Invalid Referer"),_referer=web3.utils.toChecksumAddress("0x0000000000000000000000000000000000000000"),console.log("New Referer:"+_referer)),BankOfEthHeistContract.methods.reinvestReturns(web3.utils.toWei(n.toString(),"ether"),_referer).estimateGas({from:userWalletAddress},function(e,t){e?showError("Not enough funds in your Personal Vault to complete this purchase!","Bank Heist"):submitReinvest(t,n.toString())}))}}):showNotConnectedMsg()}function withdrawDividends(){canPlay?BankOfEthHeistContract.methods.withdrawReturns().estimateGas({from:userWalletAddress},function(e,t){e?showError("Error accessing game contract - or you may not have any returns available today, - please try again.  If this issue persists try reloading this page.","Bank Heist"):($.toast({heading:"Sending Transaction",text:"Check your Ethereum Wallet to complete the transaction",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION}),BankOfEthHeistContract.methods.withdrawReturns().send({from:userWalletAddress,gas:t,gasPrice:useGasPrice},function(e,t){if(e)$.toast({heading:"Withdrawal Cancelled",text:"Your withdawal was cancelled - please try again!",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION});else{let e="";e+='<p style="font-size: 8pt;"><i>Please Note: Your ETH will not appear instantly - it depends how busy the Ethereum network is. Please monitor with Etherscan.</i></p>',e+='<p style="font-size: 10pt;"><a href="https://etherscan.io/tx/'+t+'" target="_new">View Transaction on Etherscan</a></p>',e+='<strong style="font-size: 12pt;">Want to make even more $ETH?</strong>',e+='<p style="font-size: 10pt;">The more people buying keys, the more ETH you\'ll make.  65% of all key sales is distribtued to all existing key holders - that still includes you!</p>',e+='<p style="font-size: 10pt;">So share BANK HEIST 4D now with your friends ~  use your Master Node link below and you\'ll also earn 3% of their first investment!</p>',e+='<p style="font-size: 10pt;">',e+='<code style="font-size: 8pt;">https://heist.bankofeth.app/heist.htm?ref='+userWalletAddress+"</code>",e+="</p>",e+='<p style="font-size: 10pt;">',e+=" For every new investor you refer on - you will earn 3% from their first investment as an instant bonus!",showError(e+="</p>","Withdraw Complete")}}))}):showNotConnectedMsg()}function testMsg(){let e="";e+='<p style="font-size: 8pt;"><i>Please Note: Your ETH will not appear instantly - it depends how busy the Ethereum network is. Please monitor with Etherscan.</i></p>',e+='<p style="font-size: 10pt;"><a href="https://etherscan.io/tx/" target="_new">View Transaction on Etherscan</a></p>',e+='<strong style="font-size: 12pt;">Want to make even more $ETH?</strong>',e+='<p style="font-size: 10pt;">The more people buying keys, the more ETH you\'ll make.  65% of all key sales is distribtued to all existing key holders - that still includes you!</p>',e+='<p style="font-size: 10pt;">So share BANK HEIST 4D now with your friends ~  use your Master Node link below and you\'ll also earn 3% of their first investment!</p>',e+='<p style="font-size: 10pt;">',e+='<code style="font-size: 8pt;">https://heist.bankofeth.app/heist.htm?ref='+userWalletAddress+"</code>",e+="</p>",e+='<p style="font-size: 10pt;">',e+=" For every new investor you refer on - you will earn 3% from their first investment as an instant bonus!",showError(e+="</p>","Withdraw Complete!")}function playGame(){canPlay?BankOfEthHeistContract.methods.minInvestment().call(function(e,t){if(e)showError("Unable to access game contract - please try again.  If this issue persists try reloading this page.");else{minPlayAmount=new BigNumber(t);let e=document.getElementById("investmentAmount").value,n=new BigNumber(keysPrice.times(e)),r=new BigNumber(web3.utils.fromWei(minPlayAmount.toString(),"ether"));n.isLessThan(r)?showError("The minium investment is 1 KEY<br/><br/>Please update your investment and try again.","Invalid Number of Keys"):requiresRestart?BankOfEthHeistContract.methods.latestRoundID().call(function(e,t){if(e)showError("Unable to access game contract - please try again.  If this issue persists try reloading this page.");else{let e=parseInt(t);requiresRestart=!(e>currentRound.roundID),web3.utils.isAddress(_referer)||(console.log("Invalid Referer"),_referer=web3.utils.toChecksumAddress("0x0000000000000000000000000000000000000000"),console.log("New Referer:"+_referer)),requiresRestart?BankOfEthHeistContract.methods.finalizeAndRestart().estimateGas({from:userWalletAddress,value:web3.utils.toWei(n.toString(),"ether")},function(e,t){e?showError("Unable to access game contract - please try again.  If this issue persists try reloading this page."):submitFinalizeAndRestart(t,n)}):BankOfEthHeistContract.methods.buyKeys(_referer).estimateGas({from:userWalletAddress,value:web3.utils.toWei(n.toString(),"ether")},function(e,t){e?showError("Unable to access game contract - please try again.  If this issue persists try reloading this page."):submitInvestment(t,n)})}}):(web3.utils.isAddress(_referer)||(console.log("Invalid Referer"),_referer=web3.utils.toChecksumAddress("0x0000000000000000000000000000000000000000"),console.log("New Referer:"+_referer)),BankOfEthHeistContract.methods.buyKeys(_referer).estimateGas({from:userWalletAddress,value:web3.utils.toWei(n.toString(),"ether")},function(e,t){e?showError("Unable to access game contract - please try again.  If this issue persists try reloading this page."):submitInvestment(t,n.toString())}))}}):showNotConnectedMsg()}function submitFinalizeAndRestart(e,t){$.toast({heading:"Sending Transaction",text:"Check your Ethereum Wallet to complete the transaction",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION}),BankOfEthHeistContract.methods.finalizeAndRestart().send({from:userWalletAddress,gas:e,gasPrice:useGasPrice,value:web3.utils.toWei(t.toString(),"ether")},function(e,t){if(e)$.toast({heading:"Investment Cancelled",text:"Your investment was cancelled and no ETH was spent this time - please try again!",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION});else{let e="";e+='<p style="font-size: 10pt;"><i>Please Note: Your investment will not appear instantly - it depends how busy the Ethereum network is. Please monitor with Etherscan.</i></p>',e+='<p style="font-size: 10pt;"><a href="https://etherscan.io/tx/'+t+'" target="_new">View Transaction on Etherscan</a></p>',e+='<p style="font-size: 10pt;">Share your Master Node link to earn 3%!</p>',e+="<p>",e+='<strong style="font-size: 12pt;">Your Referral Master Node Link</strong>',e+="</p>",e+='<p style="font-size: 10pt;">',e+='<code style="font-size: 8pt;">https://heist.bankofeth.app/heist.htm?ref='+userWalletAddress+"</code>",e+="</p>",e+='<p style="font-size: 10pt;">',e+=" For every new investor you refer on - you will earn 3% from their first investment as an instant bonus!",e+="</p>",showError(e+='<p style="font-size: 10pt;"><b>The more players we have - the more profits you share!</b></p>',"Investment Complete")}})}function submitInvestment(e,t){$.toast({heading:"Sending Transaction",text:"Check your Ethereum Wallet to complete the transaction",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION}),BankOfEthHeistContract.methods.buyKeys(_referer).send({from:userWalletAddress,gas:e,gasPrice:useGasPrice,value:web3.utils.toWei(t.toString(),"ether")},function(e,t){if(e)$.toast({heading:"Investment Cancelled",text:"Your investment was cancelled and no ETH was spent this time - please try again!",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION});else{let e="";e+='<p style="font-size: 10pt;"><i>Please Note: Your investment will not appear instantly - it depends how busy the Ethereum network is. Please monitor with Etherscan.</i></p>',e+='<p style="font-size: 10pt;"><a href="https://etherscan.io/tx/'+t+'" target="_new">View Transaction on Etherscan</a></p>',e+='<p style="font-size: 10pt;">Share your Master Node link to earn 3%!</p>',e+='<strong style="font-size: 12pt;">Your Referral Master Node Link</strong>',e+="</p>",e+='<p style="font-size: 10pt;">',e+='<code style="font-size: 8pt;">https://heist.bankofeth.app/heist.htm?ref='+userWalletAddress+"</code>",e+="</p>",e+='<p style="font-size: 10pt;">',e+=" For every new investor you refer on - you will earn 3% from their first investment as an instant bonus!",e+="</p>",showError(e+='<p style="font-size: 10pt;"><b>The more players we have - the more profits you share!</b></p>',"Investment Complete")}})}function submitReinvest(e,t){$.toast({heading:"Sending Transaction",text:"Check your Ethereum Wallet to complete the transaction",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION}),BankOfEthHeistContract.methods.reinvestReturns(web3.utils.toWei(t.toString(),"ether"),_referer).send({from:userWalletAddress,gas:e,gasPrice:useGasPrice},function(e,t){if(e)$.toast({heading:"Investment Cancelled",text:"Your investment was cancelled and no ETH was spent this time - please try again!",icon:"info",allowToastClose:!0,position:"bottom-right",hideAfter:TOAST_HIDE_DELAY,showHideTransition:TOAST_HIDE_TRANSITION});else{let e="";e+='<p style="font-size: 10pt;"><i>Please Note: Your investment will not appear instantly - it depends how busy the Ethereum network is. Please monitor with Etherscan.</i></p>',e+='<p style="font-size: 10pt;"><a href="https://etherscan.io/tx/'+t+'" target="_new">View Transaction on Etherscan</a></p>',e+='<p style="font-size: 10pt;">Share your Master Node link to earn 3%!</p>',e+='<strong style="font-size: 12pt;">Your Referral Master Node Link</strong>',e+="</p>",e+='<p style="font-size: 10pt;">',e+='<code style="font-size: 8pt;">https://heist.bankofeth.app/heist.htm?ref='+userWalletAddress+"</code>",e+="</p>",e+='<p style="font-size: 10pt;">',e+=" For every new investor you refer on - you will earn 3% from their first investment as an instant bonus!",e+="</p>",showError(e+='<p style="font-size: 10pt;"><b>The more players we have - the more profits you gain!</b></p>',"Investment Complete")}})}function showNotConnectedMsg(){var e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),t=!1;navigator.userAgent.toLowerCase().indexOf("android")>-1&&(t=!0),showError("Bank Of Eth",e?'It looks like your not connected to the Mainnet or logged into your Wallet at the moment.<br/><br/>For iOS we recommend: <a href="https://wallet.coinbase.com/">Coinbase Wallet</a> - please go to the dapps section and browse to our site when using.<br/><br/>Refresh this page when you are logged into your wallet.':t?'It looks like your not connected to the Mainnet or logged into your Wallet at the moment.<br/><br/>For iOS we recommend: <a href="https://wallet.coinbase.com/">Coinbase Wallet</a> - please go to the dapps section and browse to our site when using.<br/><br/>Refresh this page when you are logged into your wallet.':'It looks like your not connected to the Mainnet or Logged into your Wallet at the moment.<br/><br/>Please connect to <a href="https://metamask.io/" target="_new">Metamask</a> and select the Mainnet and ensure you are logged in to continue.<br/><br/>Refresh this page when you are logged into your wallet.')}function showError(e,t){updateInnerHTML("errorHeader",t||"Bank Heist"),updateInnerHTML("errorContent",e),$("#errorMessage").foundation("open")}function updateInnerHTML(e,t){document.getElementById(e).innerHTML=t}function roundTo2Dec(e){return Math.round(100*e)/100}function getRadioBtnValue(e){let t=document.getElementsByName(e),n="";for(var r=0,o=t.length;r<o;r++)if(t[r].checked){n=t[r].value;break}return n}function isOdd(e){return e%2}function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function timeConverter(e){var t=new Date(1e3*e),n=t.getFullYear(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+r+" "+n+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}function padNumber(e,t,n){return n=n||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(n)+e}function roundNumber(e,t){if((""+e).includes("e")){var n=(""+e).split("e"),r="";return+n[1]+t>0&&(r="+"),+(Math.round(+n[0]+"e"+r+(+n[1]+t))+"e-"+t)}return+(Math.round(e+"e+"+t)+"e-"+t)}