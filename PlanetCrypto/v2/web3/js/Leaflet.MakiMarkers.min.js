!function(){"use strict";L.MakiMarkers={accessToken:null,defaultColor:"#0a0",defaultIcon:"circle-stroked",defaultSize:"m",apiUrl:"https://api.mapbox.com/v4/marker/",smallOptions:{iconSize:[20,50],popupAnchor:[0,-20]},mediumOptions:{iconSize:[30,70],popupAnchor:[0,-30]},largeOptions:{iconSize:[36,90],popupAnchor:[0,-40]}},L.MakiMarkers.Icon=L.Icon.extend({options:{accessToken:null,icon:L.MakiMarkers.defaultIcon,color:L.MakiMarkers.defaultColor,size:L.MakiMarkers.defaultSize,shadowAnchor:null,shadowSize:null,shadowUrl:null,className:"maki-marker"},initialize:function(e){var a,r,o=e.accessToken||L.MakiMarkers.accessToken;if(!o)throw new Error("Access to the Mapbox API requires a valid access token.");switch(r="?access_token="+o,(e=L.setOptions(this,e)).size){case"s":L.extend(e,L.MakiMarkers.smallOptions);break;case"l":L.extend(e,L.MakiMarkers.largeOptions);break;default:e.size="m",L.extend(e,L.MakiMarkers.mediumOptions)}a="pin-"+e.size,null!==e.icon&&(a+="-"+e.icon),null!==e.color&&("#"===e.color.charAt(0)&&(e.color=e.color.substr(1)),a+="+"+e.color),e.iconUrl=""+L.MakiMarkers.apiUrl+a+".png"+r,e.iconRetinaUrl=L.MakiMarkers.apiUrl+a+"@2x.png"+r}}),L.MakiMarkers.icon=function(e){return new L.MakiMarkers.Icon(e)}}();